/* ===================================================================
   Footer — modos:
   - padrão FIXO (sem classe): sempre visível + offset global no <body>
   - .footer--compact: FIXO e mais baixo (Home)
   - .footer--static: no fluxo; sem colar
   - .footer--corner: pílula de canto
   =================================================================== */

:root{
  --footer-min-h: 56px;
  --footer-compact-min-h: 28px;
  --footer-h: 56px;
}

/* ===== OFFSET GLOBAL (para footers FIXOS) ===== */
body{
  padding-block-end: calc(var(--footer-h, 56px) + env(safe-area-inset-bottom, 0px));
}
@supports (padding: constant(safe-area-inset-bottom)){
  body{
    padding-bottom: calc(var(--footer-h, 56px) + constant(safe-area-inset-bottom, 0px));
  }
}

/* ======================= FIXO (base) ======================= */
footer{
  position: fixed;
  left: 0; right: 0; bottom: 0;
  z-index: 50;
  min-height: var(--footer-min-h);

  background: linear-gradient(90deg, var(--header-grad-start), var(--header-grad-end));
  color: #fff;
  box-shadow: 0 -2px 12px rgba(0,0,0,.12);
  border-top: 1px solid rgba(255,255,255,.18);

  padding: .75rem 0 calc(.75rem + env(safe-area-inset-bottom, 0px));
  text-align: left;
}

/* ====== COMPACTO ====== */
footer.footer--compact{
  min-height: var(--footer-compact-min-h);
  padding: .25rem 0 calc(.25rem + env(safe-area-inset-bottom, 0px));
}
@supports (padding: constant(safe-area-inset-bottom)){
  footer.footer--compact{
    padding: .25rem 0 calc(.25rem + constant(safe-area-inset-bottom, 0px));
  }
}
footer.footer--compact .footer-inner{
  min-height: var(--footer-compact-min-h);
  padding: 0 .75rem;
  gap: .4rem;
}
footer.footer--compact .footer-inner p{
  font-size: .90rem;
  line-height: 1.15;
  margin: 0;
}
footer.footer--compact .footer-version{
  font-size: .75rem;
  padding: .14rem .44rem;
  border-radius: 999px;
}

/* ====== ESTÁTICO ====== */
footer.footer--static{
  position: static;
  box-shadow: none;
  border-top: 1px solid rgba(255,255,255,.18);
  padding-bottom: .75rem;
}

/* ====== CORNER ====== */
footer.footer--corner{
  position: fixed;
  left: auto; right: auto;
  bottom: max(8px, env(safe-area-inset-bottom, 0px));
  inset-inline-start: 12px;
  width: auto;
  min-height: auto;
  padding: 0;
  border-top: 0;
  border-radius: .75rem;
  box-shadow: 0 6px 20px rgba(0,0,0,.20);
}
footer.footer--corner.is-right{
  inset-inline-start: auto;
  inset-inline-end: 12px;
}

/* ====== Conteúdo interno (grid full-bleed) ====== */
footer .footer-inner{
  /* full-bleed: ocupa toda a largura do viewport */
  width: 100%;
  max-width: none;
  margin: 0;
  padding: 0 1rem;

  display: grid;
  /* >>> Centro geométrico perfeito do copyright */
  grid-template-columns: 1fr auto 1fr;         /* left | center(auto) | right */
  grid-template-areas: "version copy contact";
  align-items: center;
  gap: .75rem;

  min-height: var(--footer-min-h);
}

/* Copyright — centro absoluto do footer */
footer .footer-inner .footer-copy{
  grid-area: copy;
  justify-self: center;
  text-align: center;
  margin: 0;
}

/* Contato — canto direito (menor) */
.footer__contact{
  grid-area: contact;
  justify-self: end;
  text-align: right;
  margin: 0;
  font-size: .875rem;
  line-height: 1.35;
  opacity: .95;
}
footer.footer--compact .footer__contact{
  font-size: .8125rem;
  line-height: 1.25;
}

/* Versão — canto esquerdo */
.footer-version{
  grid-area: version;
  justify-self: start;
  padding: .2rem .55rem;
  border-radius: 999px;
  font: 600 .85rem/1 var(--font);
  background: rgba(0,0,0,.18);
  border: 1px solid rgba(255,255,255,.22);
  color: #fff;
  white-space: nowrap;
}

footer a{ color: #fff; text-decoration: underline; }
footer a:hover{ text-decoration: none; }
footer a:focus-visible{ outline: 2px solid rgba(255,255,255,.65); outline-offset: 2px; }

/* Tema dark */
[data-theme="dark"] footer{ color: #e9eef2; }
[data-theme="dark"] footer a{ color: #ffffff; }
[data-theme="dark"] .footer-version{
  background: rgba(0,0,0,.22);
  border-color: rgba(255,255,255,.18);
}

/* Mobile */
@media (max-width: 560px){
  footer .footer-inner{
    grid-template-columns: 1fr;
    grid-template-areas:
      "copy"
      "contact"
      "version";
    row-gap: .25rem;
    justify-items: center;
    text-align: center;
  }
  .footer-version{ justify-self: center; }
  .footer__contact{
    justify-self: end;
    text-align: right;
    width: 100%;
    padding-inline: .25rem;
  }
}

/* Print */
@media print{
  footer{ display: none !important; }
  body{ padding-bottom: 0 !important; }
}

/* Corner overrides */
footer.footer--corner .footer-inner{
  display: inline-flex;
  align-items: center;
  gap: .5rem;
  padding: .375rem .5rem;
  min-height: 0;
}
footer.footer--corner .footer-inner p{ display: none; }
footer.footer--corner .footer-version{
  justify-self: auto;
  padding: .3rem .6rem;
  border: 1px solid rgba(255,255,255,.22);
  display: inline-flex;
  align-items: center;
  gap: .4rem;
}
footer.footer--corner a{ text-decoration: none; }
footer.footer--corner a:hover{ text-decoration: underline; }