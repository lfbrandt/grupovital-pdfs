{% extends "base.html" %}

{% block title %}Visualizador de PDF{% endblock %}

{% block header_text %}
<h2>Visualizador de PDF</h2>
{% endblock %}

{% block head_extra %}
  <script src="{{ url_for('static', filename='pdfjs/pdf.min.js') }}"></script>
{% endblock %}

{% block content %}
  <main class="container">
    <section class="card">
      <div id="controls" class="viewer-controls">
        <button id="prev" class="btn btn-secondary">‹ Anterior</button>
        <span>Página <span id="page_num"></span> de <span id="page_count"></span></span>
        <button id="next" class="btn btn-secondary">Próxima ›</button>
      </div>

      <div class="pdf-viewer">
        <canvas id="pdf-render" data-url="{{ url_for('viewer.get_pdf', filename=filename) }}"></canvas>
      </div>
    </section>
  </main>
{% endblock %}

{% block scripts %}
  <script src="{{ url_for('static', filename='viewer.js') }}" defer></script>
{% endblock %}
