{# ---- Versão de assets para furar cache ---- #}
{% macro static_url(path) -%}
  {{ url_for('static', filename=path) }}?v={{ config.get('APP_VERSION','dev') | urlencode }}
{%- endmacro %}

{# ---- CSS global versionado ---- #}
{% macro css_links() -%}
  <link rel="stylesheet" href="{{ static_url('css/main.css') }}">
{%- endmacro %}

{# ---- Área de preview com spinner ---- #}
{% macro preview_area(spinner_id, preview_id, hint=None) -%}
<div class="preview-area">
  <div id="{{ spinner_id }}" class="overlay-spinner" aria-hidden="true">
    <div class="loader"></div>
  </div>
  <div id="{{ preview_id }}" class="preview-grid"></div>
  {% if hint %}
  <p class="help-text">{{ hint }}</p>
  {% endif %}
</div>
{%- endmacro %}